

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-59249373-1']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Introduction and Setting up &mdash; Epiphany BSP 1.0 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex/" />
    <link rel="search" title="Search" href="../search/" />
    <link rel="next" title="Getting started: The Basics" href="../basic/" />
    <link rel="prev" title="Welcome to Epiphany BSP’s documentation!" href="../" /> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../" class="icon icon-home"> Epiphany BSP
          

          
            
            <img src="../_static/coduin_logo_small.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search/" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">User Documentation</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Introduction and Setting up</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#making-an-ebsp-project">Making an EBSP Project</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../basic/">Getting started: The Basics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../variables/">BSP Variables</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mp/">Message Passing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../host_client/">Communicating with the Epiphany</a></li>
<li class="toctree-l1"><a class="reference internal" href="../streaming/">Data streams</a></li>
<li class="toctree-l1"><a class="reference internal" href="../other_features/">Other features</a></li>
</ul>
<p class="caption"><span class="caption-text">Support Library</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../output/">Output</a></li>
<li class="toctree-l1"><a class="reference internal" href="../memory_management/">Memory Management</a></li>
</ul>
<p class="caption"><span class="caption-text">Reference &amp; Background</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../memory_details/">Parallella Memory Details</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bsp/">BSP Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api_reference/">API Reference</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../">Epiphany BSP</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../">Docs</a> &raquo;</li>
        
      <li>Introduction and Setting up</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/introduction.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="introduction-and-setting-up">
<h1>Introduction and Setting up<a class="headerlink" href="#introduction-and-setting-up" title="Permalink to this headline">¶</a></h1>
<p>The <a class="reference external" href="http://en.wikipedia.org/wiki/Bulk_synchronous_parallel">BSP</a> (Bulk Synchronous Parallel) computing model is a model for designing parallel algorithms. It provides
a description of how parallel computation should be
carried out. Programs written with this model consist of
a number of supersteps, which in turn consist of local
computations and non-blocking communication. A (barrier)
synchronisation at the end of such a step is used to guarantee
occurance of all communications within a step. The BSP model can be used to write portable and powerful parallel applications.</p>
<a class="reference internal image-reference" href="../_images/epiphany-bsp-illustration-trimmed-small.jpg"><img alt="../_images/epiphany-bsp-illustration-trimmed-small.jpg" class="align-center" src="../_images/epiphany-bsp-illustration-trimmed-small.jpg" style="width: 450px;" /></a>
<p>Our library (EBSP) provides an implementation of the model on top of the Epiphany SDK (ESDK).
This allows the BSP computing model to be used with the Epiphany
architecture developed by <a class="reference external" href="http://www.adapteva.com">Adapteva</a>.
In particular EBSP has been implemented and tested on the
<a class="reference external" href="http://www.parallella.org">Parallella</a> board. Our goal is to
allow current BSP programs to be run on the Epiphany architecture
with minimal modifications.</p>
<p>We believe the BSP model is a good starting point
for anyone new to parallel algorithms, and our goal for this library is to provide an easy way
to implement parallel programs on the Epiphany architecture, without having to resort directly
to the Epiphany SDK. This documentation aims to provide both an introduction to the library and BSP
programming in general. It should also be a very useful reference when programming using EBSP.</p>
<div class="section" id="making-an-ebsp-project">
<h2>Making an EBSP Project<a class="headerlink" href="#making-an-ebsp-project" title="Permalink to this headline">¶</a></h2>
<p>If you want to write EBSP programs you need to have access to a <a class="reference external" href="http://www.parallella.org">Parallella</a> board with a recent version of the Epiphany SDK (ESDK) installed. If you want to read this documentation as a tutorial, it is perhaps easiest to clone the <a class="reference external" href="https://github.com/coduin/ebsp-empty-project">EBSP example project</a> found on GitHub using <code class="docutils literal notranslate"><span class="pre">git</span></code>. The empty project template is organized as follows:</p>
<div class="highlight-Makefile notranslate"><div class="highlight"><pre><span></span>../project
├── bin
├── ext
│   └── bsp
│   │   ├── include
│   │   │   ├── e_bsp.h
│   │   │   └── host_bsp.h
│   │   └── lib
│   │       ├── e_bsp.a
│   │       └── host_bsp.a
│   └── ebsp_fast.ldf
├── Makefile
└─── src
    ├── ecore_code.c
    └── host_code.c
</pre></div>
</div>
<p>If you just want to toy with the library, we suggest you use the example project, and write the code in <code class="docutils literal notranslate"><span class="pre">src/ecore_code.c</span></code> and <code class="docutils literal notranslate"><span class="pre">src/host_code.c</span></code>. To (re)build the program issue <code class="docutils literal notranslate"><span class="pre">make</span></code> from the command-line and afterwards run <code class="docutils literal notranslate"><span class="pre">bin/host_program</span></code>.</p>
<p>For more advanced use you can download the latest EBSP release from the <a class="reference external" href="https://github.com/coduin/epiphany-bsp/releases">release page on GitHub</a>. The EBSP library depends on the ESDK, and uses a custom linker file. If you want to use EBSP directly, without using the empty project as a template, we provide you with an example Makefile below which you can adapt for your own project:</p>
<div class="highlight-Makefile notranslate"><div class="highlight"><pre><span></span><span class="nv">ESDK</span><span class="o">=</span><span class="si">${</span><span class="nv">EPIPHANY_HOME</span><span class="si">}</span>
<span class="nv">ELDF</span><span class="o">=</span>ext/bsp/ebsp_fast.ldf

<span class="nv">CFLAGS</span><span class="o">=</span>-std<span class="o">=</span>c99 -O3 -ffast-math -Wall

<span class="nv">INCLUDES</span> <span class="o">=</span> -Iext/bsp/include <span class="se">\</span>
           -I<span class="si">${</span><span class="nv">ESDK</span><span class="si">}</span>/tools/host/include

<span class="nv">HOST_LIBS</span> <span class="o">=</span> -Lext/bsp/lib <span class="se">\</span>
            -L<span class="si">${</span><span class="nv">ESDK</span><span class="si">}</span>/tools/host/lib <span class="se">\</span>
            -L/usr/arm-linux-gnueabihf/lib

<span class="nv">E_LIBS</span> <span class="o">=</span> -Lext/bsp/lib <span class="se">\</span>
         -L<span class="si">${</span><span class="nv">ESDK</span><span class="si">}</span>/tools/host/lib

<span class="nv">HOST_LIB_NAMES</span> <span class="o">=</span> -lhost-bsp -le-hal -le-loader

<span class="nv">E_LIB_NAMES</span> <span class="o">=</span> -le-bsp -le-lib

<span class="nf">all</span><span class="o">:</span> <span class="n">bin</span> <span class="n">bin</span>/<span class="n">host_program</span> <span class="n">bin</span>/<span class="n">ecore_program</span>.<span class="n">srec</span>

<span class="nf">bin</span><span class="o">:</span>
    @mkdir -p bin

<span class="nf">bin/host_program</span><span class="o">:</span> <span class="n">src</span>/<span class="n">host_code</span>.<span class="n">c</span>
    @echo <span class="s2">&quot;CC </span>$<span class="s2">&lt;&quot;</span>
    @gcc <span class="k">$(</span>CFLAGS<span class="k">)</span> <span class="k">$(</span>INCLUDES<span class="k">)</span> -o <span class="nv">$@</span> $&lt; <span class="k">$(</span>HOST_LIBS<span class="k">)</span> <span class="k">$(</span>HOST_LIB_NAMES<span class="k">)</span>

<span class="nf">bin/ecore_program.elf</span><span class="o">:</span> <span class="n">src</span>/<span class="n">ecore_code</span>.<span class="n">c</span>
    @echo <span class="s2">&quot;CC </span>$<span class="s2">&lt;&quot;</span>
    @e-gcc <span class="k">$(</span>CFLAGS<span class="k">)</span> -T <span class="si">${</span><span class="nv">ELDF</span><span class="si">}</span> <span class="k">$(</span>INCLUDES<span class="k">)</span> -o <span class="nv">$@</span> $&lt; <span class="k">$(</span>E_LIBS<span class="k">)</span> <span class="k">$(</span>E_LIB_NAMES<span class="k">)</span>

<span class="nf">bin/%.srec</span><span class="o">:</span> <span class="n">bin</span>/%.<span class="n">elf</span>
    @e-objcopy --srec-forceS3 --output-target srec $&lt; <span class="nv">$@</span>

<span class="nf">clean</span><span class="o">:</span>
    rm -r bin
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../basic/" class="btn btn-neutral float-right" title="Getting started: The Basics" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../" class="btn btn-neutral" title="Welcome to Epiphany BSP’s documentation!" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015-2017, Coduin.
      Last updated on Jun 15, 2018.

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'1.0',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  <script type="text/javascript" src="../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>